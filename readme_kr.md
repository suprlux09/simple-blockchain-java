### 소개
본 레포지토리는 [@CryptoKass](https://github.com/CryptoKass)의 [NoobChain](https://github.com/CryptoKass/NoobChain-Tutorial-Part-2)을 기반으로, 이를 네트워크 상에서 동작 가능하도록 확장시킨 간단한 블록체인 시스템입니다.

### 전제조건
#### UTXOs
전체 UTXO 목록들이 관리됩니다.  
트랜잭션 생성 시 사용되는 UTXO들은 목록에서 제거되고, 트랜잭션의 결과로 생성된 UTXO들이 목록에 추가됩니다.  
수신한 트랜잭션을 검증하는 과정에서, **트랜잭션에 사용된 UTXO가 목록에 없을 시 트랜잭션이 유효하지 않다고 판단**합니다.  
#### mempool
아직 블록에 포함되지 않은 모든 트랜잭션들은 mempool에 존재합니다.  
블록 채굴 시, mempool에 존재하는 모든 트랜잭션을 포함해서 블록을 생성합니다.  
수신한 블록을 검증하는 과정에서, **mempool에 존재하지 않은 트랜잭션이 블록에 포함되어 있을 시 블록이 유효하지 않다고 판단**합니다.  
#### Genesis 블록
모든 노드들에게 동일한 내용의 Genesis 트랜잭션들이 파일입력으로 주어집니다.  
Genesis 트랜잭션은 디지털 서명이 되어있지 않습니다. (트랜잭션은 sender의 비밀 키로 서명을 해야 하지만, Genesis 트랜잭션은 sender가 없습니다)  
모든 노드들은 Genesis 트랜잭션들을 포함하는 Genesis 블록을 채굴하기 시작합니다. 블록 채굴에 성공한 노드는 블록을 브로드캐스트로 전달합니다.  
#### 그 외
블록 채굴 난이도와 블록에 포함될 최소 트랜잭션 수는 애플리케이션이 실행되는 중 고정되어 있습니다.  
이 값들은 애플리케이션 실행 전에 조정할 수 있습니다.  
애플리케이션이 시작되면, 먼저 노드들의 공개키를 요청해서 저장한 뒤, Genesis 블록 채굴을 시도합니다. Genesis 블록이 블록체인에 추가된 이후, 블록 채굴 및 트랜잭션 생성을 위한 사용자 입력을 시작합니다.  

### 구현된 기능
#### 트랜잭션 생성
노드는 사용자의 입력을 받아 트랜잭션을 생성하고, 브로드캐스트합니다.
#### 트랜잭션 수신
다른 노드에서 생성된 트랜잭션을 검증합니다.  
유효한 트랜잭션일 경우, UTXO 목록을 업데이트하고 mempool에 트랜잭션을 추가합니다.
#### 블록 채굴
mempool에 존재하는 트랜잭션을 포함하는 블록을 지속적으로 채굴합니다.  
채굴에 성공했다면 블록을 블록체인에 추가하려고 시도합니다.  
만약 채굴 도중에 mempool에 존재하는 트랜잭션을 포함하는 다른 블록을 수신받아 블록체인에 추가했다면, 이 블록은 블록체인에 추가되지 않을 것입니다.
#### 블록 수신
다른 노드에서 생성된 블록을 블록체인에 추가하려고 시도합니다. (시도하는 과정에서 블록 검증이 수행됩니다)

### 구현되지 않은 기능
#### P2P 네트워크
노드들은 블록체인에 참가하는 모든 노드들의 주소를 알고 있다고 가정합니다. 또한 네트워크로부터 기존 노드가 탈퇴하거나 새로운 노드가 참여하는 상황은 고려하지 않았습니다.
#### 채굴 보상

#### 채굴 난이도 조절

### 구현사항
#### 블록 채굴 스레드 `MinorThread`
mempool에 최소 트랜잭션 수만큼의 트랜잭션이 존재하지 않을 시 블록됩니다.  
mempool에 충분한 트랜잭션이 존재하면 이 트랜잭션들을 포함한 블록 채굴을 시작합니다.  
#### 사용자 입력 및 트랜잭션 생성 스레드 `UserThread`
사용자가 입력한 정보에 따라 트랜잭션을 생성합니다.
#### 웹서버 스레드 `WebReceiverThread`
공개 키 요청, 트랜잭션, 블록을 수신받을 수 있는 웹서버를 구동합니다.
#### 주요 메서드들
#### 트랜잭션
##### `transaction.process()`
- 트랜잭션이 생성되었거나 다른 노드로부터 트랜잭션을 수신받았을 때 호출됩니다.  
- 트랜잭션을 검증하고, 유효한 트랜잭션일 경우 UTXO 리스트를 업데이트하고 mempool에 트랜잭션을 추가합니다.  
#### 블록
##### `block.process()`
- 생성된 블록을 채굴하기 전, 그리고 다른 노드로부터 블록을 수신받았을 때 호출됩니다.  
- `block`이 생성된 `Block`객체일 경우, mempool의 트랜잭션들을 포함시킨 후 채굴하게 되며, 채굴 이후 블록체인에 추가를 시도합니다.  
- `block`이 다른 노드로부터 생성된 블록일 경우, 블록체인에 추가를 시도합니다.  
- 블록의 검증은 블록체인에 추가를 시도하는 과정에서 수행됩니다.
##### `block.mineBlock()`
- 생성된 `Block` 객체에 대해 채굴을 수행합니다.

### 개선사항
#### 합의 알고리즘 개선
현재 상황에서 여러 노드가 동일한 트랜잭션이 포함된 블록을 채굴하는 데 성공할 경우, 이 노드들끼리 합의를 이루는 것이 불가능합니다.
#### 블록체인 분기 처리

